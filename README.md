# react-native-alive-push

<!-- badge -->

[![npm version](https://img.shields.io/npm/v/react-native-alive-push.svg)](https://www.npmjs.com/package/react-native-alive-push)
[![npm license](https://img.shields.io/npm/l/react-native-alive-push.svg)](https://www.npmjs.com/package/react-native-alive-push)
[![npm download](https://img.shields.io/npm/dm/react-native-alive-push.svg)](https://www.npmjs.com/package/react-native-alive-push)
[![npm download](https://img.shields.io/npm/dt/react-native-alive-push.svg)](https://www.npmjs.com/package/react-native-alive-push)

<!-- endbadge -->

## 依赖项

需要依赖以下library,请先进行安装

-   react-native-device-info
-   react-native-fetch-blob
-   react-native-zip-archive

## Getting started

`$ npm install react-native-alive-push --save`

### Mostly automatic installation

`$ react-native link react-native-alive-push`

## Usage

### 重写 ReactNativeHost 的 getJSBundleFile 方法

#### Android

```java
@Nullable
@Override
protected String getJSBundleFile() {
    return RNAlivePushModule.getJSBundleFile();
}
```

#### IOS

```java
1.在AppDelegate.m中添加 #import <RNAlivePush/RNAlivePush.h>
2.- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions{
    ...
    //修改
    NSURL *jsCodeLocation = [RNAlivePush getJSBundleFile];
    ...
} 
```

# API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## alivePush

**Parameters**

-   `options` **[AlivePushOption](#alivepushoption)** 

**Examples**

```javascript
//使用wrapper的方式
import alivePush from 'react-native-alive-push'
class MyApp extends React.Component{
	...
}
const AppWrapper=alivePush({...})(MyApp)
```

```javascript
//使用es7的decorator
\@alivePush({
	...
})
class MyApp extends React.Component{
	...
}
```

Returns **[Function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** 

Returns **[AlivePushComponent](#alivepushcomponent)** 

## AlivePushComponent

**Examples**

```javascript
class MyApp extends React.Component{
    alivePushStatusChange(status){
        // do something
    }
    alivePushDownloadProgress(){
        // do something
    }
    alivePushError(){
        // do something
    }
}
```

### statusChangeCallback

当状态改变时发生

### downloadProgressCallback

下载进度

### errorCallback

错误处理

## AlivePushStatus

**Properties**

-   `beginCheck` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 'BEGINCHECK'
-   `checking` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 'CHECKING'
-   `endCheck` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 'ENDCHECK'
-   `beginDownload` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 'BEGINDOWNLOAD'
-   `downloading` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 'DOWNLOADING'
-   `endDownload` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 'ENDDOWNLOAD'
-   `beginUnzip` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 'BEGINUNZIP'
-   `unzipping` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 'UNZIPPING'
-   `endUnzip` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 'ENDUNZIP'
-   `complete` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 'COMPLETE'

## AlivePushOption

Type: {deploymentKey: [String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String), host: [String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)?, onComplete: [Function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)?}

**Properties**

-   `deploymentKey` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 部署的key
-   `host` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)?** 服务器的地址
-   `onComplete` **[Function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)?** 当alivePush完成时执行.

## DeviceInfo

DeviceInfo,设备相关信息

**Examples**

```javascript
import {DeviceInfo} from 'react-native-alive-push'
let deviceInfo = new DeviceInfo()
```

## 

**Meta**

-   **author**: m860
